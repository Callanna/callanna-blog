{"remainingRequest":"/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/.nuxt/components/nuxt-build-indicator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/.nuxt/components/nuxt-build-indicator.vue","mtime":1598705829982},{"path":"/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/node_modules/cache-loader/dist/cjs.js","mtime":1583743859870},{"path":"/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/node_modules/babel-loader/lib/index.js","mtime":1578715241550},{"path":"/Users/pro/Documents/WebWork/GitHub/Callanna-iBlog/node_modules/vue-loader/lib/index.js","mtime":1594553876328}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTnV4dEJ1aWxkSW5kaWNhdG9yJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnVpbGRpbmc6IGZhbHNlLAogICAgICBwcm9ncmVzczogMCwKICAgICAgYW5pbWF0ZWRQcm9ncmVzczogMCwKICAgICAgcmVjb25uZWN0QXR0ZW1wdHM6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAicG9zaXRpb24iOiAiYm90dG9tLXJpZ2h0IiwKICAgICAgICAiYmFja2dyb3VuZENvbG9yIjogIiMyRTQ5NUUiLAogICAgICAgICJjb2xvciI6ICIjMDBDNDhEIgogICAgICB9OwogICAgfSwKICAgIGluZGljYXRvclN0eWxlOiBmdW5jdGlvbiBpbmRpY2F0b3JTdHlsZSgpIHsKICAgICAgdmFyIF9yZWY7CgogICAgICB2YXIgX3RoaXMkb3B0aW9ucyRwb3NpdGlvID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uLnNwbGl0KCctJyksCiAgICAgICAgICBfdGhpcyRvcHRpb25zJHBvc2l0aW8yID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkb3B0aW9ucyRwb3NpdGlvLCAyKSwKICAgICAgICAgIGQxID0gX3RoaXMkb3B0aW9ucyRwb3NpdGlvMlswXSwKICAgICAgICAgIGQyID0gX3RoaXMkb3B0aW9ucyRwb3NpdGlvMlsxXTsKCiAgICAgIHJldHVybiBfcmVmID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCBkMSwgJzIwcHgnKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsIGQyLCAnMjBweCcpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2JhY2tncm91bmQtY29sb3InLCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJjb2xvciIsIHRoaXMub3B0aW9ucy5jb2xvciksIF9yZWY7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uIHByb2dyZXNzKHZhbCwgb2xkVmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBBdmVyYWdlIHByb2dyZXNzIG1heSBkZWNyZWFzZSBidXQgaWdub3JlIGl0IQogICAgICBpZiAodmFsIDwgb2xkVmFsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIENhbmNlbCBvbGQgYW5pbWF0aW9uCgoKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0FuaW1hdGlvbik7IC8vIEp1bXAgdG8gZWRnZSBpbW1lZGlhdGVseQoKICAgICAgaWYgKHZhbCA8IDEwIHx8IHZhbCA+IDkwKSB7CiAgICAgICAgdGhpcy5hbmltYXRlZFByb2dyZXNzID0gdmFsOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBBbmltYXRlIHRvIHZhbHVlCgoKICAgICAgdGhpcy5fcHJvZ3Jlc3NBbmltYXRpb24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGRpZmYgPSBfdGhpcy5wcm9ncmVzcyAtIF90aGlzLmFuaW1hdGVkUHJvZ3Jlc3M7CgogICAgICAgIGlmIChkaWZmID4gMCkgewogICAgICAgICAgX3RoaXMuYW5pbWF0ZWRQcm9ncmVzcysrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzLl9wcm9ncmVzc0FuaW1hdGlvbik7CiAgICAgICAgfQogICAgICB9LCA1MCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKEV2ZW50U291cmNlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOyAvLyBVbnN1cHBvcnRlZAogICAgfQoKICAgIHRoaXMuc3NlQ29ubmVjdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc3NlQ2xvc2UoKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NBbmltYXRpb24pOwogIH0sCiAgbWV0aG9kczogewogICAgc3NlQ29ubmVjdDogZnVuY3Rpb24gc3NlQ29ubmVjdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5fY29ubmVjdGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5fY29ubmVjdGluZyA9IHRydWU7CiAgICAgIHRoaXMuc3NlID0gbmV3IEV2ZW50U291cmNlKCcvX2xvYWRpbmcvc3NlJyk7CiAgICAgIHRoaXMuc3NlLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLm9uU3NlTWVzc2FnZShldmVudCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3NlTWVzc2FnZTogZnVuY3Rpb24gb25Tc2VNZXNzYWdlKG1lc3NhZ2UpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZS5kYXRhKTsKCiAgICAgIGlmICghZGF0YS5zdGF0ZXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKGRhdGEuc3RhdGVzLnJlZHVjZShmdW5jdGlvbiAocCwgcykgewogICAgICAgIHJldHVybiBwICsgcy5wcm9ncmVzczsKICAgICAgfSwgMCkgLyBkYXRhLnN0YXRlcy5sZW5ndGgpOwoKICAgICAgaWYgKCFkYXRhLmFsbERvbmUpIHsKICAgICAgICB0aGlzLmJ1aWxkaW5nID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuYnVpbGRpbmcgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMy5hbmltYXRlZFByb2dyZXNzID0gMDsKICAgICAgICAgIF90aGlzMy5wcm9ncmVzcyA9IDA7CiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzMy5fcHJvZ3Jlc3NBbmltYXRpb24pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3NlQ2xvc2U6IGZ1bmN0aW9uIHNzZUNsb3NlKCkgewogICAgICBpZiAodGhpcy5zc2UpIHsKICAgICAgICB0aGlzLnNzZS5jbG9zZSgpOwogICAgICAgIGRlbGV0ZSB0aGlzLnNzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["nuxt-build-indicator.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition appear>\n    <div v-if=\"building\" class=\"nuxt__build_indicator\" :style=\"indicatorStyle\">\n      <svg viewBox=\"0 0 96 72\" version=\"1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\" fill-rule=\"evenodd\">\n          <path d=\"M6 66h23l1-3 21-37L40 6 6 66zM79 66h11L62 17l-5 9 22 37v3zM54 31L35 66h38z\" />\n          <path d=\"M29 69v-1-2H6L40 6l11 20 3-6L44 3s-2-3-4-3-3 1-5 3L1 63c0 1-2 3 0 6 0 1 2 2 5 2h28c-3 0-4-1-5-2z\" fill=\"#00C58E\" />\n          <path d=\"M95 63L67 14c0-1-2-3-5-3-1 0-3 0-4 3l-4 6 3 6 5-9 28 49H79a5 5 0 0 1 0 3c-2 2-5 2-5 2h16c1 0 4 0 5-2 1-1 2-3 0-6z\" fill=\"#00C58E\" />\n          <path d=\"M79 69v-1-2-3L57 26l-3-6-3 6-21 37-1 3a5 5 0 0 0 0 3c1 1 2 2 5 2h40s3 0 5-2zM54 31l19 35H35l19-35z\" fill=\"#FFF\" fill-rule=\"nonzero\" />\n        </g>\n      </svg>\n      {{ animatedProgress }}%\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'NuxtBuildIndicator',\n  data () {\n    return {\n      building: false,\n      progress: 0,\n      animatedProgress: 0,\n      reconnectAttempts: 0\n    }\n  },\n  computed: {\n    options: () => ({\"position\":\"bottom-right\",\"backgroundColor\":\"#2E495E\",\"color\":\"#00C48D\"}),\n    indicatorStyle () {\n      const [d1, d2] = this.options.position.split('-')\n      return {\n        [d1]: '20px',\n        [d2]: '20px',\n        'background-color': this.options.backgroundColor,\n        color: this.options.color\n      }\n    }\n  },\n  watch: {\n    progress (val, oldVal) {\n      // Average progress may decrease but ignore it!\n      if (val < oldVal) {\n        return\n      }\n      // Cancel old animation\n      clearInterval(this._progressAnimation)\n      // Jump to edge immediately\n      if (val < 10 || val > 90) {\n        this.animatedProgress = val\n        return\n      }\n      // Animate to value\n      this._progressAnimation = setInterval(() => {\n        const diff = this.progress - this.animatedProgress\n        if (diff > 0) {\n          this.animatedProgress++\n        } else {\n          clearInterval(this._progressAnimation)\n        }\n      }, 50)\n    }\n  },\n  mounted () {\n    if (EventSource === undefined) {\n      return // Unsupported\n    }\n    this.sseConnect()\n  },\n  beforeDestroy () {\n    this.sseClose()\n    clearInterval(this._progressAnimation)\n  },\n  methods: {\n    sseConnect () {\n      if (this._connecting) {\n        return\n      }\n      this._connecting = true\n      this.sse = new EventSource('/_loading/sse')\n      this.sse.addEventListener('message', event => this.onSseMessage(event))\n    },\n    onSseMessage (message) {\n      const data = JSON.parse(message.data)\n      if (!data.states) {\n        return\n      }\n\n      this.progress = Math.round(data.states.reduce((p, s) => p + s.progress, 0) / data.states.length)\n\n      if (!data.allDone) {\n        this.building = true\n      } else {\n        this.$nextTick(() => {\n          this.building = false\n          this.animatedProgress = 0\n          this.progress = 0\n          clearInterval(this._progressAnimation)\n        })\n      }\n    },\n\n    sseClose () {\n      if (this.sse) {\n        this.sse.close()\n        delete this.sse\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.nuxt__build_indicator {\n  box-sizing: border-box;\n  position: fixed;\n  font-family: monospace;\n  padding: 5px 10px;\n  border-radius: 5px;\n  box-shadow: 1px 1px 2px 0px rgba(0,0,0,0.2);\n  width: 88px;\n  z-index: 2147483647;\n  font-size: 16px;\n  line-height: 1.2rem;\n}\n.v-enter-active, .v-leave-active {\n  transition-delay: 0.2s;\n  transition-property: all;\n  transition-duration: 0.3s;\n}\n.v-leave-to {\n  opacity: 0;\n  transform: translateY(20px);\n}\nsvg {\n  display: inline-block;\n  vertical-align: baseline;\n  width: 1.1em;\n  position: relative;\n  top: 1px;\n}\n</style>\n"],"sourceRoot":".nuxt/components"}]}